<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Apple TV</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link href="//unpkg.com/apple-tv-card@latest/dist/main.css" rel="stylesheet">
    <link href="app.css" rel="stylesheet">
    <script src="//unpkg.com/muuri/dist/muuri.min.js"></script>
    <script src="//unpkg.com/apple-tv-card@latest/dist/main.js" defer></script>
    <script src="//unpkg.com/@fortawesome/fontawesome-free/js/regular.min.js"></script>
    <script src="//unpkg.com/@fortawesome/fontawesome-free/js/brands.min.js"></script>
    <script src="//unpkg.com/@fortawesome/fontawesome-free/js/fontawesome.min.js"></script>
</head>
<body>
<div style="padding:2vw 2vw 0;">
    <div style="display:flex;">
        <div style="width:20%;padding:0 1vw;">
            <div class="apple-tv-card-container">
                <div class="apple-tv-card">
                    <div class="content"
                         style="background-image:url(//images-na.ssl-images-amazon.com/images/I/81SYzIG8oFL.jpg);background-size:cover;padding-bottom:132%;"></div>
                </div>
                <div class="apple-tv-card-title">
                    The Hobbit: The Battle of the Five Armies
                </div>
            </div>
        </div>
        <div style="width:20%;padding:0 1vw;">
            <div class="apple-tv-card-container">
                <div class="apple-tv-card">
                    <div class="content" style="padding-bottom:132%;"></div>
                </div>
                <div class="apple-tv-card-title">
                    Movie
                </div>
            </div>
        </div>
    </div>
</div>
<div class="header">
    <div class="grid">
        <div class="item">
            <div class="item-content">
                <div class="apple-tv-card-container">
                    <div class="apple-tv-card with-shadow">
                        <a href="https://github.com/marcreichel" class="content" target="_blank"
                           style="background:linear-gradient(to bottom, #444, #111)"></a>
                        <div class="parallax-content">
                            <i class="fab fa-github fa-lg"></i>
                        </div>
                    </div>
                    <div class="apple-tv-card-title">
                        GitHub
                    </div>
                </div>
            </div>
        </div>
        <div class="item">
            <div class="item-content">
                <div class="apple-tv-card-container">
                    <div class="apple-tv-card">
                        <a href="https://music.apple.com/" class="content" target="_blank"
                           style="background:linear-gradient(to bottom, #fb5b73, #fa243d)"></a>
                        <div class="parallax-content">
                            <i class="fab fa-itunes-note fa-lg"></i>
                        </div>
                    </div>
                    <div class="apple-tv-card-title">
                        Apple Music
                    </div>
                </div>
            </div>
        </div>
        <div class="item">
            <div class="item-content">
                <div class="apple-tv-card-container">
                    <div class="apple-tv-card">
                        <a href="https://netflix.com/" target="_blank" class="content" style="background:white;"></a>
                        <div class="parallax-content"
                             style="background:url(//logosmarken.com/wp-content/uploads/2020/04/Netflix-Logo.png) no-repeat center center;background-size:80% auto;"></div>
                    </div>
                    <div class="apple-tv-card-title">
                        Netflix
                    </div>
                </div>
            </div>
        </div>
        <div class="item">
            <div class="item-content">
                <div class="apple-tv-card-container">
                    <div class="apple-tv-card">
                        <a href="https://laravel.com/" target="_blank" class="content" style="background:white;"></a>
                        <div class="parallax-content" style="color:#ff291a;">
                            <i class="fab fa-laravel fa-lg"></i>
                        </div>
                    </div>
                    <div class="apple-tv-card-title">
                        Laravel
                    </div>
                </div>
            </div>
        </div>
        <div class="item">
            <div class="item-content">
                <div class="apple-tv-card-container">
                    <div class="apple-tv-card with-shadow">
                        <a class="content" style="background:linear-gradient(to bottom, #ccc, #888)">
                            <div style="height:1.5em;width:1.5em;background:#555656;border-radius:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"></div>
                        </a>
                        <div class="parallax-content reverse">
                            <div style="position:relative;color:#b4b6b8;">
                                <div style="height:1.25em;width:1.25em;border:.1em solid currentColor;border-radius:100%;"></div>
                                <div style="position:absolute;right:.05em;height:.075em;background:currentColor;left:50%;top:50%;margin-top:-.05em;"></div>
                                <div style="position:absolute;right:.05em;height:.075em;background:currentColor;left:50%;top:50%;margin-top:-.05em;transform-origin:0 50%;transform:rotate(-120deg);"></div>
                                <div style="position:absolute;right:.05em;height:.075em;background:currentColor;left:50%;top:50%;margin-top:-.05em;transform-origin:0 50%;transform:rotate(-240deg);"></div>
                                <div style="position:absolute;height:.05em;width:.05em;background:#555656;left:50%;top:50%;margin-top:-.025em;margin-left:-.025em;border-radius:100%;"></div>
                            </div>
                        </div>
                        <div class="parallax-content reverse">
                            <div style="height:.8em;width:.8em;border:.1em solid #b4b6b8;border-radius:100%;"></div>
                        </div>
                    </div>
                    <div class="apple-tv-card-title">
                        Preferences
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="body">
    <div class="grid">
        <div class="item">
            <div class="item-content">
                <div class="apple-tv-card-container">
                    <div class="apple-tv-card">
                        <a class="content"
                           style="background-image:radial-gradient(circle at 80% 10%, #d15da2, #723e8c 70%);"></a>
                        <div class="parallax-content">
                            <div style="text-align:center;">
                                <div style="font-size:.65em;line-height:1;">
                                    tv shows
                                </div>
                                <div style="font-size:.3em;">
                                    iTunes
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="apple-tv-card-title">
                        TV Shows
                    </div>
                </div>
            </div>
        </div>
        <div class="item">
            <div class="item-content">
                <div class="apple-tv-card-container">
                    <div class="apple-tv-card">
                        <a class="content" style="background:linear-gradient(to bottom, #2fa6fa, #1c236d)"></a>
                    </div>
                    <div class="apple-tv-card-title">
                        App Store
                    </div>
                </div>
            </div>
        </div>
        <div class="item">
            <div class="item-content">
                <div class="apple-tv-card-container">
                    <div class="apple-tv-card">
                        <a href="https://www.spotify.com/" class="content" target="_blank"
                           style="background:linear-gradient(to bottom, #21ca5b, #52ad52)"></a>
                        <div class="parallax-content">
                            <i class="fab fa-spotify fa-lg"></i>
                        </div>
                    </div>
                    <div class="apple-tv-card-title">
                        Spotify
                    </div>
                </div>
            </div>
        </div>
        <div class="item">
            <div class="item-content">
                <div class="apple-tv-card-container">
                    <div class="apple-tv-card">
                        <a class="content" style="background:linear-gradient(to bottom, #f89a1e, #fe6832)"></a>
                    </div>
                    <div class="apple-tv-card-title">
                        Computer
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var header = new Muuri('.header .grid', {
        dragEnabled: true,
        dragHandle: '.apple-tv-card',
        dragStartPredicate: {
            distance: 1,
        },
        dragSort: getAllGrids,
    });
    var grid = new Muuri('.body .grid', {
        dragEnabled: true,
        dragHandle: '.apple-tv-card',
        dragStartPredicate: {
            distance: 1,
        },
        dragSort: getAllGrids,
    });

    header.on('receive', function (data) {
        const count = header.getItems().length;
        if (count >= 6) {
            header.send(count - 1, grid, 0, {
                appendTo: document.querySelector('.header .grid'),
            });
        }
    });

    header.on('dragEnd', function () {
        header.layout(true);
    });

    function getAllGrids(item) {
        return [header, grid];
    }

    document.querySelectorAll('.apple-tv-card .content').forEach((hyperlink) => {
        hyperlink.addEventListener('click', function (event) {
            const element = event.target.closest('.muuri-item');
            if (element.classList.contains('muuri-item-releasing')) {
                event.preventDefault();
                event.stopImmediatePropagation();
                event.stopPropagation();
            }
        });
    });
</script>
</body>
</html>
